<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Notepack</title>
    <description>A randomized pack of notes</description>
    <link>http://jakub.marchwicki.pl/</link>
    <atom:link href="http://jakub.marchwicki.pl/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Tue, 02 Feb 2016 21:41:34 +0000</pubDate>
    <lastBuildDate>Tue, 02 Feb 2016 21:41:34 +0000</lastBuildDate>
    <generator>Jekyll v2.4.0</generator>
    
      <item>
        <title>TypeScript: Setting up an IDE and working environment</title>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This episode is pretty straight forward: configuring the workspace. My IDE choice is either Sublime Text or IntelliJ IDEA and I&amp;#8217;m focusing on these two. Additionally, I&amp;#8217;ve setup the working environment, auto reloading the browser (as the ultimate runtime environment of my JavaScript experimentations).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;prerequisite&quot;&gt;Prerequisite&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;TypeScript can be installed through the NPM package manager &lt;code&gt;npm install -g typescript&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Wait. What? What is &lt;code&gt;npm&lt;/code&gt;. So here we go; welcome to the world of JavaScript package managers. &lt;code&gt;npm&lt;/code&gt; stands for package manager for node.js (one among many). I won&amp;#8217;t be drilling &lt;em&gt;node&lt;/em&gt; installation details - not worth it. I&amp;#8217;ll just point out one thing which saved my live millions of times: always use version managers. It&amp;#8217;s a great practice from PHP Pear times, where everything was global, thus changing a library version for a single project was close to impossible.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Now we can bound not only libraries but whole runtimes (compilers) and avoid any interference between runtimes. Things like &lt;a href=&quot;http://rvm.io&quot;&gt;rvm.io&lt;/a&gt;, &lt;a href=&quot;https://github.com/brainsik/virtualenv-burrito&quot;&gt;Virtualenv&lt;/a&gt;, &lt;a href=&quot;https://github.com/cweiske/phpfarm&quot;&gt;phpfarm&lt;/a&gt; saved tons of developers&#39; hours. Same story applies to the node world and I suggest not going forward without installing one of many version managers. I went with &lt;a href=&quot;https://github.com/creationix/nvm&quot;&gt;nvm&lt;/a&gt;. If you ask why - probably it had highest number of Github stars ;-)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Which &lt;em&gt;node&lt;/em&gt; and &lt;em&gt;npm&lt;/em&gt; on board, typescript installation is a piece of cake. Having successfully done that I could&amp;#8217;ve moved forward.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;sublime-text&quot;&gt;Sublime Text&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For Sublime, Microsoft helps with an &lt;a href=&quot;https://github.com/Microsoft/TypeScript-Sublime-Plugin&quot;&gt;official plugin&lt;/a&gt;. If the &lt;em&gt;node&lt;/em&gt; is already installed and enabled - installation is easy and out of the box.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The editor comes with syntax highlighting and preconfigured compilation (upon request). In general - enough to move forward.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;intellij-idea&quot;&gt;IntelliJ IDEA&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;There is well documented TypeScript support for IntelliJ IDEA, which can be installed from the &lt;a href=&quot;https://www.jetbrains.com/idea/help/typescript-support.html&quot;&gt;JetBrains plugin repository&lt;/a&gt;. Obviously it required &lt;em&gt;node&lt;/em&gt; to be installed and enabled.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;ve installed the plugin, but I&amp;#8217;ve disabled the compiler (the checkbox &#39;Enable TypeScript Compiler&#39;). As described in &lt;a href=&quot;/posts/2016/01/31/typescript-getting-started/&quot;&gt;in the previous part&lt;/a&gt; I &quot;embedded the transpiler&quot; into the browser and evaluated the &lt;code&gt;&amp;#42;.ts&lt;/code&gt; files directly. How the plugin worked for me was syntax colouring and hints. Additionally I could have made my IDE generate JavaScript files together with the sourcemaps (for both IDEA as well as Sublime Text), but I felt it a bit unnatural, too tightly coupled to the IDE. That was something to avoid, to be solved by the build scripts directly on my CI server. Later on.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;live-reload&quot;&gt;Live reload&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Final piece of the puzzle was to save hassle of hideous pressing &lt;kbd&gt;F5&lt;/kbd&gt; or &lt;span class=&quot;keyseq&quot;&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;R&lt;/kbd&gt;&lt;/span&gt; for refresh. There&amp;#8217;s where Livereload kicks in.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
LiveReload monitors changes in the file system. As soon as you save a file, it is preprocessed as needed, and the browser is refreshed.
&lt;/blockquote&gt;
&lt;div class=&quot;attribution&quot;&gt;
&amp;#8212; http://livereload.com/
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;em&gt;Livereload&lt;/em&gt; &quot;ships&quot; in two pieces: browser (page) extension, that triggers a page reload and a file system watcher - to notify changes in the HTML, CSS, image files (like whatever file extension is configured) - that something needs to be reloaded.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The browser part can be handled by a &lt;a href=&quot;http://livereload.com/extensions/&quot;&gt;plugin or browser extension&lt;/a&gt; or a snippet embedded to the page. The &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; is required for Safari users, due to Safari API limitations; extensions cannot for with &lt;em&gt;file://&lt;/em&gt; URL. The snippet allows localhost communication, but livereload works also for mobile (on device) browsers (simulators) - with a specific IP address provided inline.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;html&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;document.write(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;&amp;lt;script src=&amp;quot;http://&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; + (location.host || &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;localhost&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;).split(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;)[&lt;span class=&quot;integer&quot;&gt;0&lt;/span&gt;] + &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;:35729/livereload.js?snipver=1&amp;quot;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;script&amp;gt;&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Livereload is an open protocol so the &quot;server&quot; side comes in many different flavours, for the developers&#39; convenience. For me, as a JVM-mostly developer, some Java based build tools were the first choice. But there is no need to limit oneself to only &lt;a href=&quot;https://github.com/aalmiray/livereload-gradle-plugin&quot;&gt;Gradle livereload plugin&lt;/a&gt; or &lt;a href=&quot;https://github.com/davidB/livereload-jvm&quot;&gt;Maven&lt;/a&gt;. Livereload works perfectly with node, python, ruby (rake) etc.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;The simplest gradle configuration&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;groovy&quot;&gt;buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;org.kordamp.gradle:livereload-gradle-plugin:0.2.1&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
    }
}

apply &lt;span class=&quot;key&quot;&gt;plugin&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;org.kordamp.gradle.livereload&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;

liveReload {
        docRoot &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;app/&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;b class=&quot;conum&quot;&gt;(1)&lt;/b&gt;
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;colist arabic&quot;&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;This is the folder where the reloadable content sits.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This however brings some limitations. As I use vanilla TypeScript and do an in-browser transpilation - that involves additional AJAX calls by the &lt;code&gt;transpiler.js&lt;/code&gt; script. When the protocol is set to &lt;em&gt;file://&lt;/em&gt; some browsers forbid it for security reasons (like Chrome) some don&amp;#8217;t really care (hello Firefox).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For browsers like Chrome we need to expose our content as a basic HTTP server. For me, the simplest HTTP static server &lt;a href=&quot;/posts/2016/01/31/typescript-getting-started/&quot;&gt;from the previous part&lt;/a&gt; (&lt;code&gt;php -S localhost:8080 -t {docRoot}&lt;/code&gt;) did the trick. I know I could have taken some basic HTTP server from node world (like express) and wrap everything in typical JavaScript stack. That will work as well, but my intention so far is to minimize elements not natural (unknown and unfamiliar) for a typical JVM developer. I&amp;#8217;ll get to the &lt;code&gt;nodemon&lt;/code&gt; later.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This set-up has taken me few steps forward in both understanding how the JS oriented environment might work as well as with grasping the JavaScript goodies on their own. Hope this will work for you as well.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Tue, 02 Feb 2016 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2016/02/02/typescript-setting-up-ide/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2016/02/02/typescript-setting-up-ide/</guid>
        
        <category>typescript</category>
        
        
        <category>posts</category>
        
      </item>
    
      <item>
        <title>TypeScript: Getting started</title>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So TypeScript&amp;#8230;&amp;#8203; Matters got serious and I decided to further explore the idea of polyglot programming - embracing the frontend development. There is a lot of happening in the backend in the JVM world, but there is as much happening in the browser. I know most of &#39;backend people&#39; just laugh at the speed new JavaScript frameworks appear (and disappear) but I wanted to tackle the matter seriously.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;betting-on-typescript&quot;&gt;Betting on TypeScript&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I decided to bet on TypeScript. I did an initial research and with mostly static type / compiled languages background I was a bit reluctant to pure JavaScript. Additionally to TypeScript, ScalaJS was also in the loop.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;My primary source of knowledge were presentations, two of them I greatly recommend: &lt;a href=&quot;https://twitter.com/Sander_Mak&quot;&gt;Sander Mak&amp;#8217;s&lt;/a&gt; &lt;a href=&quot;https://www.youtube.com/watch?v=h7NLi2w8ytg&quot;&gt;TypeScript - coding JavaScript without the pain&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/li_haoyi&quot;&gt;Li Haoyi&amp;#8217;s&lt;/a&gt; &lt;a href=&quot;https://www.youtube.com/watch?v=9SalPdAEI28&quot;&gt;Hands-on Scala.js&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So, I went with TypeScript, I think for the following reasons (nicely outlined in Sander&amp;#8217;s presentation):&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Scalable HTML5 client-side development&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Modular development&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Easily learnable for Java developers&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Non-invasive (existing libs, browser support)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Long-term vision&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Clean JS output (exit strategy)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I don&amp;#8217;t want to argue that these are not ScalaJS attributes as well, but with my very limited experience with Scala - I went with the first choice. Hello Microsoft ;-)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Both TypeScript and ScalaJS have impressive online guides and official documentations. TypeScript &lt;a href=&quot;http://www.typescriptlang.org/Tutorial&quot;&gt;tutorial&lt;/a&gt; and &lt;a href=&quot;http://www.typescriptlang.org/Playground&quot;&gt;playground&lt;/a&gt; are awesome. And so is Li Haoyi&amp;#8217;s &lt;a href=&quot;http://lihaoyi.github.io/hands-on-scala-js/&quot;&gt;Hands on ScalaJS&lt;/a&gt; and &lt;a href=&quot;http://www.scala-js-fiddle.com/&quot;&gt;Scala-Js-Fiddle&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Nonetheless, the turning point for me was looking up transpiled JavaScript output for both TypeScript and ScalaJS. Here it is, a small program to count the variable &lt;code&gt;x&lt;/code&gt; from 0, incrementing by 3 (so 3, 9, and 12) before finally printing it out.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;scalajs&quot;&gt;ScalaJS&lt;/h3&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;Scala&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;scala&quot;&gt;object ScalaJSExample extends js.JSApp {

  def main() = {
    var x = 0
    while(x &amp;lt; 10) {
      println(x)
      x += 3
    }
    println(s&amp;quot;Final: $x&amp;quot;)

  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;JavaScript&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;javascript&quot;&gt;ScalaJS.c.&lt;span class=&quot;predefined&quot;&gt;LMain$&lt;/span&gt;.prototype.main__V = (&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;() {
  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x = &lt;span class=&quot;integer&quot;&gt;0&lt;/span&gt;;
  &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; ((x &amp;lt; &lt;span class=&quot;integer&quot;&gt;10&lt;/span&gt;)) {
      ScalaJS.m.&lt;span class=&quot;predefined&quot;&gt;s_Predef$&lt;/span&gt;()
           .println__O__V(x)
    x = ((x + &lt;span class=&quot;integer&quot;&gt;3&lt;/span&gt;) | &lt;span class=&quot;integer&quot;&gt;0&lt;/span&gt;)
  };
  ScalaJS.m.&lt;span class=&quot;predefined&quot;&gt;s_Predef$&lt;/span&gt;()
           .println__O__V(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Final: &lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; + x)
});&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;typescript&quot;&gt;TypeScript&lt;/h3&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;TypeScript&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;typescript&quot;&gt;class Main {
    hello() {
        var x = 0;
        while (x &amp;lt; 10) {
            console.log(x)
            x += 3
        }

        console.log(`Final: ${x}`)
    }
}

var main = new Main()
main.hello()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;JavaScript&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; Main = (&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; () {
    &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;Main&lt;/span&gt;() {
    }
    Main.prototype.&lt;span class=&quot;function&quot;&gt;hello&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; () {
        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x = &lt;span class=&quot;integer&quot;&gt;0&lt;/span&gt;;
        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (x &amp;lt; &lt;span class=&quot;integer&quot;&gt;10&lt;/span&gt;) {
            console.log(x);
            x += &lt;span class=&quot;integer&quot;&gt;3&lt;/span&gt;;
        }
        console.log(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Final: &lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; + x);
    };
    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; Main;
})();

&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; main = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Main();
main.hello();&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As TypeScript is a typed superset for JavaScript that compiles into plain JavaScript - the transpiled output has more in common with classic JavaScript. That itself was quite appealing to me (after all - that limits the number of level of abstractions I have no idea about).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;where-to-start&quot;&gt;Where to start&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;ve started with few example projects, which were easy to build and run out-of-the-box. After tuning them (breaking them) here and there - it was high time to start something from scratch. This is where the learning curve gets steeper.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In the first place, I wanted to avoid all the JavaScript cargo cult: &lt;em&gt;node&lt;/em&gt;, &lt;em&gt;npm&lt;/em&gt;, &lt;em&gt;bower&lt;/em&gt;, &lt;em&gt;grunt&lt;/em&gt;, &lt;em&gt;gulp&lt;/em&gt; - whichever. I&amp;#8217;m not that proficient with the JavaScript stack, with the build tools and I found them a bit intrusive: standing between me and my first &#39;Hello World of TypeScript!&#39; in the browser.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Happily, TypeScript itself comes to the rescue; as the TypeScript compiler is in TypeScript and TypeScript transpiles to JavaScript, why can&amp;#8217;t I run it in browser without external dependencies (and compile everything in the browser)? Weird idea and I know this comes with a price of performance degradation - but that isn&amp;#8217;t my problem at the moment.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;ve started with including TypeScript directly in the webpage&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;html&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;script&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;https://rawgit.com/Microsoft/TypeScript/master/lib/typescriptServices.js&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;script&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;https://rawgit.com/basarat/typescript-script/master/transpiler.js&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt; &lt;b class=&quot;conum&quot;&gt;(1)&lt;/b&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;colist arabic&quot;&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Github &lt;a href=&quot;https://github.com/basarat/typescript-script&quot;&gt;typescript-script project by Basarat Ali Syed&lt;/a&gt;, based on another Github &lt;a href=&quot;https://github.com/niutech/typescript-compile/&quot;&gt;transcript-compile project&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;That way I could start to play with my own scripts (not only) locally.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;html&quot;&gt;&lt;span class=&quot;doctype&quot;&gt;&amp;lt;!doctype html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;html&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;lang&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;en&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;script&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;text/typescript&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;inline&quot;&gt;            module Sayings {
                &lt;span class=&quot;reserved&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;reserved&quot;&gt;class&lt;/span&gt; Greeter {
                    &lt;span class=&quot;key&quot;&gt;greeting&lt;/span&gt;: string;
                    constructor (message: string) {
                        &lt;span class=&quot;local-variable&quot;&gt;this&lt;/span&gt;.greeting = message;
                    }
                    greet() {
                        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Hello, &lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; + &lt;span class=&quot;local-variable&quot;&gt;this&lt;/span&gt;.greeting;
                    }
                }
            }&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- You can add multiple TypeScript blocks: --&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;script&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;text/typescript&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;inline&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; greeter = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Sayings.Greeter(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;world&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);
            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; button = document.createElement(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;button&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;)
            button.innerHTML = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Say hello&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
            button.&lt;span class=&quot;function&quot;&gt;onclick&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;() {
                    alert(greeter.greet())
            }
            document.body.appendChild(button)&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;script&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;https://rawgit.com/Microsoft/TypeScript/master/lib/typescriptServices.js&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;script&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;https://rawgit.com/basarat/typescript-script/master/transpiler.js&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This is a complete example which can be easily opened through &lt;code&gt;index.html&lt;/code&gt; page directly in the browser (through &lt;code&gt;file://&lt;/code&gt; protocol) or though simplest possible http server &lt;code&gt;php -S localhost:8080 -t {folder}&lt;/code&gt;. No additional build scripts involved - simple and clean. Non-inline scripts &lt;code&gt;&amp;lt;script type=&quot;text/typescript&quot; src=&quot;file.ts&quot;&amp;gt;&lt;/code&gt; obviously works as well.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This is just a prototype, I&amp;#8217;ll get to the build tools at some point - that&amp;#8217;s definitely not a production set-up. Nonetheless, it&amp;#8217;s enough to start fiddling further.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;What should be coming next?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Livereload of any type - to avoid constant refresh on the browser&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proper build setup - to compile (transpile) TypeScript to JS and serve it to the browser&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IDE support (for both IntelliJ and Sublime)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If you like it - stay with me for next steps of my TypeScript exploration.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Sun, 31 Jan 2016 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2016/01/31/typescript-getting-started/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2016/01/31/typescript-getting-started/</guid>
        
        <category>typescript</category>
        
        
        <category>posts</category>
        
      </item>
    
      <item>
        <title>Get your XSD documentation as a part of build process</title>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;ve started this as a &lt;a href=&quot;http://stackoverflow.com/questions/32106133/xsd-documentation-as-a-part-of-build-process&quot;&gt;stackoverflow question&lt;/a&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;ve got multiple XSD files describing a schema. I&amp;#8217;d like to generate a human readable documentation as a result of a build process.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The XSD is maintained and review within repository (gitflow) and committing the documentation makes the repository cluttered. I&amp;#8217;d like to generate human readable HTML during the build process (maven / gradle / ant build or simple CLI interface)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Found this post How to convert XSD to human readable documentation? and DocFlex/XML Maven plugin seems interesting but I can&amp;#8217;t believe that&amp;#8217;s the only one.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Any helpful tips on that?&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This pretty much outlines the idea: treat XSD as code, get that into repository and have all the subsidiary artifacts elements generated as a part of the build process (not to have autogenerated HTML files in the repository).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This can be pretty easy achievable with OxygenXML Editor&amp;#8217;s &lt;em&gt;schemaDocumentation.sh&lt;/em&gt; script, however it requires OxygenXML installed on your build environment, which is something I&amp;#8217;d tend to avoid (I generally avoid having build dependent on the environment beyond just JVM; if build needs something I want it to download it for itself).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;tools&quot;&gt;Tools&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I was using OxygenXML Editor on my desktop and I like the documentation is generated (the HTML). I also liked a flow that the document is reviewed through the visual part (html) but the comments and remarks are done in the source (code) in a typical code review process. I started to look for tools that could supported this kind of workflow.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;OxygenXML Editor &lt;em&gt;schemaDocumentation.sh&lt;/em&gt; script to certain extent could support this flow, but some additional changes were needed to the bash scripts. So I started to look in some different places.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;docflex&quot;&gt;DocFlex&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;http://www.filigris.com/docflex-xml/maven.php&quot;&gt;DocFlex/XML Maven Integration&lt;/a&gt; looks pretty promising. Installation went smoothly getting some output generated was pretty straightforward - as presented in &lt;a href=&quot;http://www.filigris.com/docflex-xml/maven.php#plugin.example1&quot;&gt;examples&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;However, only after some more detailed reading I realized that images are only supported through integration with 3rd party tools like XMLSpy or OxygenXML.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If all you need is just HTML view (pretty comprehensive after all - but without images) DocFlex is probably enough. It&amp;#8217;s not very expensive (200$ for license) - but to be honest I haven&amp;#8217;t been looking for any free alternatives. Lack of pictures was a deal breaker for me.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;oxygen-wrapped-in-gradle-sauce&quot;&gt;Oxygen wrapped in Gradle sauce&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Getting back to the OxygenXML, it&amp;#8217;s a program written in Java and the &lt;em&gt;schemaDocumentation.sh&lt;/em&gt; script is actually invoking a headless application with some command line arguments. If so, I can invoke it directly from a build script. I used Gradle for that&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;groovy&quot;&gt;apply &lt;span class=&quot;key&quot;&gt;plugin&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;

version = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;1.0-SNAPSHOT&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;

ext {
  generatedDir = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;File&lt;/span&gt;(buildDir, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;generated-html&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)
}

&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; OXYGEN_HOME = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/opt/java/oxygen&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;        &lt;b class=&quot;conum&quot;&gt;(1)&lt;/b&gt;
&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; schemaFiles = [&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]        &lt;b class=&quot;conum&quot;&gt;(2)&lt;/b&gt;

schemaFiles.each { pageName -&amp;gt;
  task &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;pageName&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;SchemaTask&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;key&quot;&gt;type&lt;/span&gt;: JavaExec) {
    mkdir generatedDir

    classpath = files([
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/classes&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/oxygen.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/oxygenDeveloper.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/fop.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/xmlgraphics-commons-1.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/batik-all-1.7.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/xercesImpl.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/xml-apis.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/org.eclipse.wst.xml.xpath2.processor_1.2.0.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/icu4j.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/saxon.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/saxon9ee.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/log4j.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/resolver.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/oxygen-emf.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-httpclient-3.1.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-codec-1.3.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-logging-1.0.4.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/httpcore-4.3.2.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/httpclient-cache-4.3.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/httpclient-4.3.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/fluent-hc-4.3.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/httpmime-4.3.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-logging-1.1.3.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-codec-1.6.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
    ].toList())

    main = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;ro.sync.xsd.documentation.XSDSchemaDocumentationGenerator&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
    jvmArgs = [&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-Djava.awt.headless=true&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]
    args = [&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;schema/&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;pageName&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;.xsd&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
            &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-format:html&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
            &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-split:location&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
            &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-out:&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;generatedDir&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;pageName&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;.html&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]
  }
}

task schema(&lt;span class=&quot;key&quot;&gt;dependsOn&lt;/span&gt;: tasks.matching { Task task -&amp;gt;
        task.name.endsWith(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;SchemaTask&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)}) {
}

defaultTasks &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;colist arabic&quot;&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;External path to OxygenXML&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HTML is generated for every file defined in this list&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So far Gradle looks like an overkill but this is still work in progress. With the power of Gradle we can try to get rid of all external dependencies and make this build self-sufficient.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;oxygenxml-based-schema-documentator&quot;&gt;OxygenXML based schema documentator&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Full Oxygen package is 150MB and comes with all different things (not really needed for HTML schema generation). However, what is only needed here is a &lt;em&gt;schemaDocutation.sh&lt;/em&gt; which we can run independently. So with this little script fellow we can try to strip down Oxygen to the only part required&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;bash&quot;&gt;mkdir -p oxygen-lite/lib

for f in `cat $OXYGEN_HOME/schemaDocumentation.sh | grep CP= | tr &amp;quot;:&amp;quot; &amp;quot;\n&amp;quot; | cut -d &amp;quot;/&amp;quot; -f3 | grep jar`
do
        file=&amp;quot;$OXYGEN_HOME/lib/$f&amp;quot;
        if [ -e $file ]
        then
                cp $file oxygen-lite/lib/$f
        fi
done

cp $OXYGEN_HOME/licensekey.txt oxygen-lite&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Next step would be to combine the build with the stripped down (&#39;lite&#39;) version of Oxygen. I used &lt;a href=&quot;https://github.com/ysb33r/groovy-vfs&quot;&gt;Groovy VFS&lt;/a&gt; DSL library to be able to process external downloads and unzip my &lt;em&gt;Oxygen-lite&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;groovy&quot;&gt;buildscript {
  repositories {
    jcenter()
  }
  dependencies {
    classpath &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;org.ysb33r.gradle:vfs-gradle-plugin:1.0-beta1&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
    classpath &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;commons-httpclient:commons-httpclient:3.1&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  }
}

apply &lt;span class=&quot;key&quot;&gt;plugin&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;org.ysb33r.vfs&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
apply &lt;span class=&quot;key&quot;&gt;plugin&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;

version = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;1.0-SNAPSHOT&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;

ext {
  downloadDir = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;File&lt;/span&gt;(buildDir, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;download&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)
  generatedDir = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;File&lt;/span&gt;(buildDir, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;generated-html&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)
}

task download &amp;lt;&amp;lt; {
  mkdir downloadDir
  vfs {
    cp &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;zip:https://your-host/path-to-oxygen/oxygen-lite.zip&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
    downloadDir, &lt;span class=&quot;key&quot;&gt;recursive&lt;/span&gt;:&lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;key&quot;&gt;overwrite&lt;/span&gt;:&lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;
  }
}

download {
  description &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Downloading oxygen&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
  outputs.dir downloadDir
}

&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; OXYGEN_HOME = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;downloadDir&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/oxygen-lite&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; schemaFiles = [&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]

apply &lt;span class=&quot;key&quot;&gt;plugin&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;

version = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;1.0-SNAPSHOT&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;

ext {
  generatedDir = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;File&lt;/span&gt;(buildDir, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;generated-html&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)
}

&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; OXYGEN_HOME = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/opt/java/oxygen&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;        &lt;b class=&quot;conum&quot;&gt;(1)&lt;/b&gt;
&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; schemaFiles = [&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]        &lt;b class=&quot;conum&quot;&gt;(2)&lt;/b&gt;

schemaFiles.each { pageName -&amp;gt;
  task &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;pageName&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;SchemaTask&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;key&quot;&gt;type&lt;/span&gt;: JavaExec) {
    mkdir generatedDir

    classpath = files([
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/classes&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/oxygen.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/oxygenDeveloper.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/fop.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/xmlgraphics-commons-1.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/batik-all-1.7.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/xercesImpl.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/xml-apis.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/org.eclipse.wst.xml.xpath2.processor_1.2.0.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/icu4j.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/saxon.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/saxon9ee.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/log4j.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/resolver.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/oxygen-emf.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-httpclient-3.1.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-codec-1.3.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-logging-1.0.4.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/httpcore-4.3.2.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/httpclient-cache-4.3.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/httpclient-4.3.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/fluent-hc-4.3.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/httpmime-4.3.5.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-logging-1.1.3.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
      &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;OXYGEN_HOME&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib/commons-codec-1.6.jar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
    ].toList())

    main = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;ro.sync.xsd.documentation.XSDSchemaDocumentationGenerator&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
    jvmArgs = [&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-Djava.awt.headless=true&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]
    args = [&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;schema/&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;pageName&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;.xsd&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
            &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-format:html&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
            &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-split:location&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;,
            &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-out:&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;$&lt;/span&gt;generatedDir&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;pageName&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;.html&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]
  }
}

task schema(&lt;span class=&quot;key&quot;&gt;dependsOn&lt;/span&gt;: [&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;download&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,
        tasks.matching { Task task -&amp;gt; task.name.endsWith(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;SchemaTask&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)}]) {

}

defaultTasks &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;setting-up-the-ci&quot;&gt;Setting up the CI&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The above script sits together with XSD schema files in the repository. Whenever a new version of XSD is issued (or a new work is initiated in a &#39;feature branch&#39;) our Jenkins picks up the changes and rebuild the docs. That way the schema can be viewed in a human readable name while the comments can be attached to the actual XSDs in the repository. This kind of works for us.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;m still not sure if Oxygen is the best tool for the job, but I couldn&amp;#8217;t find a better one (not that I was looking for it very hard). So if you have  suggestions how to proceed differently - I welcome them in comments.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;why-the-whole-build-thing&quot;&gt;Why the whole build thing?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Yes, that&amp;#8217;s a valid question. Why taking &#39;a cannon for a fly&#39; and not just didn&amp;#8217;t stick to the simple bash script. Well, the nature of such builds is they usually never stop after the first step. Having an HTML documentation generated, new ideas just started popping up my head&amp;#8230;&amp;#8203; why can&amp;#8217;t we generate actual object model out of these XSD - for a better reference. Not a problem; with &lt;a href=&quot;https://github.com/jacobono/gradle-jaxb-plugin&quot;&gt;gradle-jaxb-plugin&lt;/a&gt; it goes nearly out of the box.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;groovy&quot;&gt;jaxb {
  mkdir generatedClassedDir
  dependencies {
    jaxb &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;com.sun.xml.bind:jaxb-xjc:2.1.6&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
  }

  xsdDir = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  episodesDir = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;build/&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
  xjc {
    taskClassname = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;com.sun.tools.xjc.XJCTask&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
    destinationDir = generatedClassedDir
    generatePackage = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;eu.ydp.flipbook.model&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
    args = [&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-npa&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;-no-header&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;What&amp;#8217;s next? The ZIP file is too massive - we can strip it. Let&amp;#8217;s just add some runtime dependencies and remove those from downloaded zip.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;goovy&quot;&gt;dependencies {
  compile &#39;log4j:log4j:1.2.14&#39;
  compile &#39;org.apache.httpcomponents:fluent-hc:4.3.5&#39;
  compile &#39;org.apache.httpcomponents:httpmime:4.3.5&#39;
  compile &#39;org.apache.httpcomponents:httpclient-cache:4.3.5&#39;
  compile &#39;commons-httpclient:commons-httpclient:3.1&#39;
  compile(&amp;quot;org.apache.xmlgraphics:fop:1.1&amp;quot;) {
    exclude group: &amp;quot;org.apache.avalon.framework&amp;quot;
  }
  compile &#39;avalon-framework:avalon-framework-api:4.2.0&#39;
  compile &#39;avalon-framework:avalon-framework-impl:4.2.0&#39;
  compile &#39;xerces:xercesImpl:2.11.0&#39;
}

//... some line stripped

schemaFiles.each { pageName -&amp;gt;
  task &amp;quot;${pageName}SchemaTask&amp;quot;(type: JavaExec) {
    mkdir generatedDir

    classpath = sourceSets.main.runtimeClasspath
    classpath += files([
      &amp;quot;$OXYGEN_HOME/&amp;quot;,
      &amp;quot;$OXYGEN_HOME/lib/oxygen.jar&amp;quot;,
      &amp;quot;$OXYGEN_HOME/lib/oxygen-emf.jar&amp;quot;,
      &amp;quot;$OXYGEN_HOME/lib/org.eclipse.wst.xml.xpath2.processor_1.2.0.jar&amp;quot;,
      &amp;quot;$OXYGEN_HOME/lib/icu4j.jar&amp;quot;,
      &amp;quot;$OXYGEN_HOME/lib/saxon.jar&amp;quot;,
      &amp;quot;$OXYGEN_HOME/lib/saxon9ee.jar&amp;quot;,
      &amp;quot;$OXYGEN_HOME/lib/resolver.jar&amp;quot;
    ].toList())
    main = &#39;ro.sync.xsd.documentation.XSDSchemaDocumentationGenerator&#39;
    jvmArgs = [&amp;quot;-Djava.awt.headless=true&amp;quot;]
    args = [&amp;quot;schema/${pageName}.xsd&amp;quot;, &amp;quot;-format:html&amp;quot;, &amp;quot;-split:location&amp;quot;, &amp;quot;-out:$generatedDir/${pageName}.html&amp;quot;]
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;These are tasks a bit harder to achieve with just a bash script - and here gradle build really show it&amp;#8217;s power.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;perfect-is-the-enemy-of-good&quot;&gt;Perfect is the enemy of good&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The rest of Oxygen XML dependencies and not findable in the central Maven repository; either custom or too old or I have no idea how to find them. But under no means it doesn&amp;#8217;t mean we cannot deploy them ourselves, save on download time and have all the dependencies properly cached by Gradle.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The deployment itself is pretty easy and neatly described &lt;a href=&quot;https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html&quot;&gt;in this Maven mini guide&lt;/a&gt;. The only tweak we might want to do is avoiding explicit dependencies (as the build file will get a bit cluttered) and hide the hideous dependencies behind the core Oxygen deps.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Wed, 26 Aug 2015 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2015/08/26/get-your-xsd-docs-as-build-process/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2015/08/26/get-your-xsd-docs-as-build-process/</guid>
        
        
        <category>posts</category>
        
      </item>
    
      <item>
        <title>GeeCON Microservices - in Sopot this September</title>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This post is kind of brought by &lt;a href=&quot;https://twitter.com/LAFK_pl/&quot;&gt;Tomek Borek&lt;/a&gt; and an inspiration coming from his &lt;a href=&quot;https://lafkblogs.wordpress.com/2015/08/05/reasons-why-i-believe-geecon-microservices-will-be-good/&quot;&gt;reasons why I believe GeeCON Microservices will be good&lt;/a&gt; post.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;ve been involved in the &lt;a href=&quot;http://2015.microservices.geecon.org/&quot;&gt;GeeCON Microservices&lt;/a&gt; since the day one and I hardly ever spoken why are we running this show, what&amp;#8217;s the story behind the agenda - cause it&amp;#8217;s not just a &lt;em&gt;fashion driven conference&lt;/em&gt;. Well, in same cases it is, as in &lt;a href=&quot;#the-success-keynote&quot;&gt;The success keynote&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;A friend of mine (after reviewing this post) said I should&amp;#8217;ve made the title more marketable, like: &quot;I&amp;#8217;ll reveal some insider&amp;#8217;s knowledge about building the conference agenda and some of the talks&quot;. Well, you can treat it as such.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;a-single-track&quot;&gt;A single track&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;http://2015.microservices.geecon.org/&quot;&gt;GeeCON Microservices&lt;/a&gt; is a single day, single track conference. Our ambition wasn&amp;#8217;t to bring you largest number of speakers, enormous amount of tracks. The rationale was different: focus on a single topic and cover it from multiple perspectives. Cover it in such a way, that after these 12 sessions all attendees will have a comprehensive understanding &lt;em&gt;what&amp;#8217;s the fuzz about those microservices&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We also did want to save you hassle of choosing the best possible talk. There is no choice and all talks are best possible - we guarantee.
As a regular conference attendee I struggle with that, always puzzled which talk is better I regularly end up talking and networking with fellow geeks. Now the choice is obvious, all talks are first class.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;a-curated-agenda&quot;&gt;A curated agenda&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;http://2015.microservices.geecon.org/&quot;&gt;GeeCON Microservices&lt;/a&gt; didn&amp;#8217;t have a call for papers. That was a conscious but a difficult choice. We made an effort to bring a variety of speakers from different domains, with huge experience. We didn&amp;#8217;t want to just praise the microservices world; we want to go a step further.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;strong&gt;We want to show you the upsides and downsides.&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;strong&gt;We want to share the context: where it worked and where it didn&amp;#8217;t.&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;strong&gt;We want to drill down the steps needed for success&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Each speaker is experienced: knowledge-wise and speaking-wise. So we did our best to bring you sessions which won&amp;#8217;t be boring and which will be held in a professional way.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;agenda&quot;&gt;Agenda&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;At &lt;a href=&quot;http://2015.microservices.geecon.org/&quot;&gt;GeeCON Microservices&lt;/a&gt; you can see we have &lt;strong&gt;three&lt;/strong&gt; (sic!) keynotes. The agenda is structured around short, 30 minutes, in-depth sessions, focusing on particular aspects of microservices world (those which we see as important). Additionally - we open and close with a bigger stories going beyond &lt;em&gt;just the microservices&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Building up an agenda is not an assignment for a single evening. There were many people involved, with many hours spent on emails, calls and Slack discussions. Not everybody we wanted, could have made it to the conference (location, timing, travel required). However some of the &#39;nos&#39; were sweet music to our ears: &lt;em&gt;&#39;It was a tough decision (I would have enjoyed the rest of the lineup a lot)&#39;&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;There should be nothing to stop you from enjoying the lineup.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;the-opening-keynote&quot;&gt;The opening keynote&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;When you scan through the &lt;a href=&quot;http://2015.microservices.geecon.org/#schedule&quot;&gt;GeeCON Microservices&lt;/a&gt;schedule - a set of patterns (I hope) emerge. We are starting with Fred George&amp;#8217;s keynote &quot;It&amp;#8217;s Not Just MicroServices: Areas of focus for MicroService Success&quot; - I hope just by the title you see we don&amp;#8217;t want to follow the fashion, praise the micro architecture and treat it as a silver bullet.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We also know that microservice is not only about technology: it&amp;#8217;s about processes, roles, changing (or challenging) the organisations. That needs to be made explicit - like in Fred&amp;#8217;s keynote.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;the-success-keynote&quot;&gt;The success keynote&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For obvious reasons &lt;a href=&quot;http://2015.microservices.geecon.org/&quot;&gt;GeeCON Microservices&lt;/a&gt; is also about success stories; there are multiple of them. Adrian Trenaman (VP of Engineering from Gilt) will share his in &#39;Scaling microservices at Gilt&#39;. Gilt is not a software house, Gilt sells fashion. And they do it with distributed, fault-tolerant, scalable platform. Adrian will give some insights what they build, with all the whys and hows - to survive their daily noon peaks of traffic which exceeds the normal load by multiple orders of magnitude.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;sessions&quot;&gt;Sessions&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;http://2015.microservices.geecon.org/&quot;&gt;GeeCON Microservices&lt;/a&gt; is obviously mostly about sessions. That&amp;#8217;s the time between breaks and keynotes, before the party. We&amp;#8217;ve seen some important patterns to cluster talks around and that&amp;#8217;s how the 30 minutes sessions are structured:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Get practical. All the things you could have not thought of before starting the microservices journey: provisioning, deploying, orchestrating, managing, etc&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Design the right thing. How big should my microservices be, what is too much and when is it too little.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ponder a bit. Why are we shifting, where are we rolling this big ball of mud, what are we actually doing and it this what we really need. Monoliths are still valid architecture pattern - in certain contexts. It makes certain things harder, but other can be no-brainers. We want to shed some light on these as well.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;the-closing-keynote&quot;&gt;The closing keynote&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After all these sessions, we hope you have an image that microservices are not about technology, just technology and only technology. It goes far beyond. We believe the closing keynote will emphasize this. Erik Dörnenburg (Head of Technology at ThoughtWorks) will bring an important topic what is the role of an architect in all these. Is it a wizard, an alpha engineer, a master builder or can architecture grow without architects.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;breaks&quot;&gt;Breaks&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;At &lt;a href=&quot;http://2015.microservices.geecon.org/&quot;&gt;GeeCON Microservices&lt;/a&gt;, with so wonderful speakers, with hundreds of years of collective experience, we wanted to give you multiple opportunities to talk, discuss, share views and opinions. Not just short coffee breaks - we did our best to balance session time with conversations time. And besides that - you still have a chance to get a geek breakfast in the morning.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;the-location&quot;&gt;The location&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Last but not least; &lt;a href=&quot;http://2015.microservices.geecon.org/&quot;&gt;GeeCON Microservices&lt;/a&gt; is the only conference (at least in Poland) where only 200 meters (measured) is between you and the sandy beach. Only conference where the after party may be like on a Miami beach party (if only Polish weather permits - that&amp;#8217;s the only thing we cannot pre-book).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;a-humble-opinion&quot;&gt;A humble opinion&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I decided to write this post because that was quite an effort for the team (as well as for me personally) to come up with such agenda, build it, book it and get it rolling. To be more precise, agreeing on the agenda was the hardest part. Building a story around it. And now - I wanted to share this story with you.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If you liked it - go in and register for &lt;a href=&quot;http://2015.microservices.geecon.org/&quot;&gt;GeeCON Microservices&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Wed, 05 Aug 2015 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2015/08/05/microservice-geecon/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2015/08/05/microservice-geecon/</guid>
        
        
        <category>posts</category>
        
      </item>
    
      <item>
        <title>Wrapping Maven distribution together with a project</title>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;There are few things that I&amp;#8217;ve been missing in Maven, that are available in Gradle out of the box (and no, I don&amp;#8217;t want to start a holy Gradle vs. Maven war). One of those was a Gradle wrapper; I wanted to create projects which are pretty environment agnostic and download whatever needed straight form the internet. While the build and dependency management tools do their job I was always struggling with the dependency management itself. Until now.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;but-why&quot;&gt;But why?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Yeah - good question. Why on Earth would I need to have a dependency management tool as a &#39;compile time&#39; dependency. In my particular case it was Jenkins fault, I wanted my continuous integration environment to be just an infrastructure: an operating system, latest Java installation, Git - and the project brings what&amp;#8217;s ever required by itself. That is keeping the CI infrastructure robust with minimal project specific dependencies.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I remember &#39;good old times&#39; when certain project had to be built on particular swarms due to concrete Maven version being present or some system libraries being pre-installed. This approach doesn&amp;#8217;t scale and I was eager to fix it.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;maven-wrapper&quot;&gt;Maven wrapper&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;While the wrapper isn&amp;#8217;t a problem for Gradle, my Maven projects were still problematic. Until I found a &lt;strong&gt;maven-wrapper&lt;/strong&gt; - a copy of the Gradle wrapper ported for use with Apache Maven.
&lt;sup class=&quot;footnote&quot; id=&quot;_footnote_maven-wrapper&quot;&gt;[&lt;a id=&quot;_footnoteref_1&quot; class=&quot;footnote&quot; href=&quot;#_footnote_1&quot; title=&quot;View footnote.&quot;&gt;1&lt;/a&gt;]&lt;/sup&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As described on the project&amp;#8217;s wiki:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
the Maven Command Line Wrapper will auto-download and install Apache Maven from the Internet and then run your Maven goals.
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If you are ok with manual installation, all that&amp;#8217;s needed is copying &lt;code&gt;mvnw&lt;/code&gt; files and &lt;code&gt;maven&lt;/code&gt; folder to your project - from say an example project.
&lt;sup class=&quot;footnote&quot; id=&quot;_footnote_maven-wrapper-example&quot;&gt;[&lt;a id=&quot;_footnoteref_2&quot; class=&quot;footnote&quot; href=&quot;#_footnote_2&quot; title=&quot;View footnote.&quot;&gt;2&lt;/a&gt;]&lt;/sup&gt;
This will make the file structure look pretty much like this.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code&gt;sample
 ├── maven
 │   ├── maven-wrapper.jar
 │   └── maven-wrapper.properties
 ├── src
 │   └── main
 │       └── java
 ├── mvnw
 ├── mvnw.bat
 └── pom.xml&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Now instead of running &lt;code&gt;mvn clean install&lt;/code&gt; we can just go with &lt;code&gt;./mvnw clean install&lt;/code&gt; that will do the thing.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;From my perspective that was quite handy - I didn&amp;#8217;t have to maintain a particular version of Maven in my CI environment. I had it defined together with a project. A first little success.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;automate-all-the-things&quot;&gt;Automate all the things&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Coping files is so nineties, so the next step would be to automatically get the wrapper through the Maven build process. This sounded reasonable, cause as the developer I obviously had Maven installed locally and the wrapper was targeting the continuous integration builds, not developers&#39; machines.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Nothing easier, the Maven wrapper comes with a handy build plugin.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.rimerosolutions.maven.plugins&lt;span class=&quot;tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;wrapper-maven-plugin&lt;span class=&quot;tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.0.4&lt;span class=&quot;tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;mavenVersion&amp;gt;&lt;/span&gt;3.3.1&lt;span class=&quot;tag&quot;&gt;&amp;lt;/mavenVersion&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Running &lt;code&gt;mvn wrapper:wrapper&lt;/code&gt; does the job and the wrapper is installed.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;problems&quot;&gt;Problems?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;That worked like a charm for a simple (very simple) project, a single project. But hey! we are doing enterprise here - our projects&#39; structure is hardly ever flat!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So if my project gets slightly more complicated (with submodules), the Maven wrapper tasks, defined on the parent project - is repeated for each and every module. The output gets cumbersome and far from ideal.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;xml&quot;&gt;sample
 ├── maven
 │   ├── maven-wrapper.jar
 │   └── maven-wrapper.properties
 ├── module
 |   ├── maven
 │   |   ├── maven-wrapper.jar
 │   |   └── maven-wrapper.properties
 |   ├── mvnw
 |   ├── mvnw.bat
 |   └── pom.xml
 ├── module2
 |   ├── maven
 │   |   ├── maven-wrapper.jar
 │   |   └── maven-wrapper.properties
 |   ├── mvnw
 |   ├── mvnw.bat
 |   └── pom.xml
 ├── mvnw
 ├── mvnw.bat
 └── pom.xml&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I see a &lt;code&gt;MavenWrappersOverflowException&lt;/code&gt;. However, as this is purely related to the Maven life cycle and parent-child relationship (&#39;mother issues&#39; everywhere) - this is fixable with the configuration itself.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.rimerosolutions.maven.plugins&lt;span class=&quot;tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;wrapper-maven-plugin&lt;span class=&quot;tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.0.4&lt;span class=&quot;tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;inherited&amp;gt;&lt;/span&gt;false&lt;span class=&quot;tag&quot;&gt;&amp;lt;/inherited&amp;gt;&lt;/span&gt;        &lt;b class=&quot;conum&quot;&gt;(1)&lt;/b&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;mavenVersion&amp;gt;&lt;/span&gt;3.3.1&lt;span class=&quot;tag&quot;&gt;&amp;lt;/mavenVersion&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;colist arabic&quot;&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;By default, plugin configuration should be propagated to child POMs, so to break the inheritance, you could uses the &lt;code&gt;&amp;lt;inherited&amp;gt;&lt;/code&gt; tag&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Now, we just need to run the goal for this particular project (while in the parent project&amp;#8217;s folder). This will generated the wrapper only where it&amp;#8217;s needed.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;bash&quot;&gt;mvn wrapper:wrapper -N         &lt;b class=&quot;conum&quot;&gt;(1)&lt;/b&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;colist arabic&quot;&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;-N&lt;/code&gt; argument stands for non-recursive builds, which prevents Maven from building submodules (only builds the project contained in the current directory).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Just one thing: with the wrapper plugin and Polyglot for Maven
&lt;sup class=&quot;footnote&quot; id=&quot;_footnote_polyglot-maven&quot;&gt;[&lt;a id=&quot;_footnoteref_3&quot; class=&quot;footnote&quot; href=&quot;#_footnote_3&quot; title=&quot;View footnote.&quot;&gt;3&lt;/a&gt;]&lt;/sup&gt;
I&amp;#8217;ve gradually lost interest in any other build tools ;-)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;div class=&quot;footnote&quot; id=&quot;_footnote_1&quot;&gt;
&lt;a href=&quot;#_footnoteref_1&quot;&gt;1&lt;/a&gt;. &lt;a href=&quot;https://github.com/rimerosolutions/maven-wrapper&quot; class=&quot;bare&quot;&gt;https://github.com/rimerosolutions/maven-wrapper&lt;/a&gt;
&lt;/div&gt;
&lt;div class=&quot;footnote&quot; id=&quot;_footnote_2&quot;&gt;
&lt;a href=&quot;#_footnoteref_2&quot;&gt;2&lt;/a&gt;. &lt;a href=&quot;https://github.com/rimerosolutions/maven-wrapper-example&quot; class=&quot;bare&quot;&gt;https://github.com/rimerosolutions/maven-wrapper-example&lt;/a&gt;
&lt;/div&gt;
&lt;div class=&quot;footnote&quot; id=&quot;_footnote_3&quot;&gt;
&lt;a href=&quot;#_footnoteref_3&quot;&gt;3&lt;/a&gt;. &lt;a href=&quot;https://github.com/takari/polyglot-maven&quot; class=&quot;bare&quot;&gt;https://github.com/takari/polyglot-maven&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Thu, 04 Jun 2015 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2015/06/04/maven-wrapper/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2015/06/04/maven-wrapper/</guid>
        
        
        <category>posts</category>
        
      </item>
    
      <item>
        <title>Characterize your legacy with junit</title>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This is a blog post with is a longer read to my &lt;a href=&quot;http://2015.tdd.geecon.org/&quot;&gt;GeeCON TDD 2015&lt;/a&gt; lightning talk presentation: &lt;a href=&quot;/speaking/2015/01/30/geecon-tdd/&quot;&gt;Characterize your legacy with jUnit Rules&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;what-are-characterization-tests-and-why-cared&quot;&gt;What are characterization tests and why cared?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;div class=&quot;title&quot;&gt;Context&lt;/div&gt;
&lt;p&gt;I&amp;#8217;ve recently was involved in a project of upgrading our internal, vendor provided, not supported anymore HR application.
As we&amp;#8217;ve been refactoring one of our internal systems (upgrade from Rails 1.8 to 3.0) - it impacted a few systems nearby. Mostly due to the way Rails handled SOAP web services, which were the basis of the integration; the WSDL needed changing significantly and thus needed the HR system client classes.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The whole idea was to replace existing axis stubs with new classes, keeping the interfaces backwards compatible. Rather simple task but not in this context: the app appeared to be a Java JSP web application with literally 10 class files and hundreds of JSP files with tons of logic in it (500+ lines per each JSP was a standard). A Java application in a bad PHP style.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;What is more, this was type of integration where the order of parameters in the SOAP call were important; imagine how brittle and fragile that was.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;While that looked fairly simple on paper (or diagram) the reality was much harder.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;data:image/png;base64,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&quot; alt=&quot;A context diagram&quot; width=&quot;690&quot; height=&quot;294&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;div class=&quot;title&quot;&gt;How to proceed&lt;/div&gt;
&lt;p&gt;From the application logs (around 150MB per week, as nobody though of turning of global DEBUG in log4j.properties) I could be able to figure out what classes were responsible for the web service communication - that was the starting point.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The plan was to adhere to keep it working principle:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;extract the classes into a single jar&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;replace the classes with a lib&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;replace the lib with a new stub and client&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Few simple tasks to do. But what bothered me was how to make sure that the data structures before and after the changes are still the same.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;div class=&quot;title&quot;&gt;Actual tests&lt;/div&gt;
&lt;p&gt;This is when I was started with characterization tests (the golden master). I needed to describe the existing application and after each step, test the changes against the model (my benchmark). Hence, the flow looked pretty much like this:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;analyze the class / method in subject, gain the conceptual understanding&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;invoke the method within tests&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;log complete output / compare the output with existing log output&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;When the tests went green - I felt much safer. I know this is far from ideal testing method, but at least it has given a little of confidence in the baby steps I was making.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;where-to-start&quot;&gt;Where to start&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Ok, that was theory. Question is how to actually implement such test; recordings and assertions. The whole thing is actually pretty damn easy, especially with the last releases of JUnit. We will be leveraging Rule (ClassRule annotation to be precise) and the whole concept of TestRules.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;not-the-real-example&quot;&gt;Not the real example&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;ll not drive through the actual code, as it was damn bad and will just make the point harder to understand. To give you a clue, here is a sample of the real production code (that was how the webservice was actually code - straight from the JSP file!)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;jsp&quot;&gt;&amp;lt;%-- MAIN FRAME --%&amp;gt;

&amp;lt;div style=&#39;width:100%; height:344px; display: block&#39; id=&amp;quot;mainmenu_ifr&amp;quot;&amp;gt;
&amp;lt;table border=&#39;0&#39; cellspacing=&#39;0&#39; cellpadding=&#39;0&#39; width=&#39;100%&#39; style=&amp;quot;margin-top:15px;&amp;quot;&amp;gt;
&amp;lt;tr&amp;gt;
&amp;lt;td valign=&#39;top&#39; width=&amp;quot;200&amp;quot; align=&amp;quot;center&amp;quot;&amp;gt;

&amp;lt;%
String prac_pnr =(String)session.getAttribute(&amp;quot;prac_pnr&amp;quot;);
if (prac_pnr ==null) prac_pnr =&amp;quot;&amp;quot;;


YdpPssClient client = new YdpPssClient();
String key=&amp;quot;&amp;quot;;
String logaid=prac_pnr;
String mode=&amp;quot;small&amp;quot;;
LAOSL1.setPP_LANG(langs[lang]);
LAOSL1.setPP_NSP(user_nsp);
LAOSL1.setPP_NRZK(user_nrzk);
LAOSL1.setPP_PNR(loga_pnr);
Manager.refresh(LAOSL1,(String)session.getAttribute(&amp;quot;AdeliaKeyPoolName&amp;quot;));
%&amp;gt;

&amp;lt;%@ page import=&amp;quot;org.apache.axis.encoding.Base64&amp;quot; %&amp;gt;
&amp;lt;%
String encoded = Base64.encode(client.getUserFotoFromWServices(key,logaid,mode));
%&amp;gt;

&amp;lt;% if(encoded!= null) { %&amp;gt;
  &amp;lt;IMG src=&amp;quot;data:image/png;base64,&amp;lt;%=encoded%&amp;gt;&amp;quot; border=&amp;quot;0&amp;quot; id=&amp;quot;test&amp;quot;&amp;gt;
&amp;lt;% }else{ %&amp;gt;
  &amp;lt;IMG height=&amp;quot;177&amp;quot; src=&amp;quot;pics/noImage.jpg&amp;quot; border=&amp;quot;0&amp;quot; id=&amp;quot;test&amp;quot;&amp;gt;
&amp;lt;% } %&amp;gt;
&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;/table&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;To skip such convoluted code I&amp;#8217;ll use a more simple (simplistic) example- our legacy method is doing just string split and return the frist token.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;BusinessClass&lt;/span&gt; {

  &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; businessMethod(&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; param) {
    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; param.split(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt; &lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)[&lt;span class=&quot;integer&quot;&gt;0&lt;/span&gt;];
  }

}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;And the test we will be using (actually in this case it&amp;#8217;s more like a runner than the fully blown test).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;BusinessClassTest&lt;/span&gt; {

  &lt;span class=&quot;annotation&quot;&gt;@ClassRule&lt;/span&gt;
  &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;static&lt;/span&gt; CharacterizationRule rule =
      aRuleFor(BusinessClassTest.class)
      .build();

  &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; BusinessClass service = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; BusinessClass();

  &lt;span class=&quot;annotation&quot;&gt;@Test&lt;/span&gt;
  &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; just_run_the_method() {
    &lt;span class=&quot;directive&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; param = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;first parameter&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;param = &lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; + param);
    &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; output = service.businessMethod(param);
    &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;after split = &lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; + output);
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As you probably noticed, there are no assertions in the test. That&amp;#8217;s is deliberate - we are not asserting, because we probably don&amp;#8217;t have a clue what should be the desired outcome. What we do, is logging some output without drilling into the details.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The whole idea is to log as much as possible and use the log as the feedback is the behaviour of the class (output) is not changing. This is what Michael Feathers described as characterization test.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;A characterization test is a mean to describe (characterize) the actual behavior of an existing piece of software.&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;attribution&quot;&gt;
&amp;#8212; Michael Feathers&lt;br&gt;
&lt;cite&gt;Working Effectively with Legacy Code&lt;/cite&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;the-working-example&quot;&gt;The working example&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So, we see we need two modes for our tests: logging and verification. We should have exacly the same test code which can be run in two modes; collect all possible output and verify if the output is still the same. My approach would be to use an environment variable (flag) and pass it over during test invocation.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; ENV_NAME_FOR_RECORDING = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;pinchpoint&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;;

&lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;boolean&lt;/span&gt; isRecording() {
  &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; env = &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.getProperty(ENV_NAME_FOR_RECORDING);
  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (env != &lt;span class=&quot;predefined-constant&quot;&gt;null&lt;/span&gt;);
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;shell&quot;&gt;mvn test -Dpinchpoint=true -Dtest=BusinessCodeTest&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;div class=&quot;title&quot;&gt;The logging part&lt;/div&gt;
&lt;p&gt;I&amp;#8217;ve written at the beginning we will be using junit rules to get the stuff done. Since version 4.7 jUnit provides rules, which are smarter runners - that can perform additional actions during test (think of aspects or interceptor). &lt;code&gt;External Resource&lt;/code&gt; is one of such classes&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;A base class for Rules that set up an external resource before a test and tear it down afterward.&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The actual logging, that save the complete output to a default temp folder, to a file named after the class undergoing the test, logging might look like so.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;FileOutputCapture&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;extends&lt;/span&gt; ExternalResource {

  &lt;span class=&quot;directive&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; before() &lt;span class=&quot;directive&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Throwable&lt;/span&gt; {
    original = &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.out;
    &lt;span class=&quot;predefined-type&quot;&gt;PrintStream&lt;/span&gt; pos = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;PrintStream&lt;/span&gt;(capturedStream);
    &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.setOut(pos); &lt;b class=&quot;conum&quot;&gt;(1)&lt;/b&gt;
  }

  &lt;span class=&quot;directive&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; after() {
    &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.setOut(original);    &lt;b class=&quot;conum&quot;&gt;(2)&lt;/b&gt;
    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {
      Files.write(outputFile.toPath(),
      capturedStream.toByteArray(),
      StandardOpenOption.APPEND);   &lt;b class=&quot;conum&quot;&gt;(3)&lt;/b&gt;
    } &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;exception&quot;&gt;IOException&lt;/span&gt; e) {
      &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;exception&quot;&gt;RuntimeException&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;File write failed! &lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, e);
    }
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;colist arabic&quot;&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Sustitute the standard &lt;code&gt;System.out&lt;/code&gt; with a stream to capturing all output&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Restore the original &lt;code&gt;PrintStream&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Write everything to file&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;div class=&quot;title&quot;&gt;The verification part&lt;/div&gt;
&lt;p&gt;Now that we are good with the log, we can start refactoring the &lt;code&gt;BusinessClass&lt;/code&gt; and do the verification if the output has changed in any way. Obviously, we would need another capture, without saving to a file.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;StreamOutputCapture&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;extends&lt;/span&gt; ExternalResource {
  &lt;span class=&quot;predefined-type&quot;&gt;PrintStream&lt;/span&gt; original;

  &lt;span class=&quot;directive&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; before() &lt;span class=&quot;directive&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Throwable&lt;/span&gt; {
    original = &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.out;
    &lt;span class=&quot;predefined-type&quot;&gt;PrintStream&lt;/span&gt; pos = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;PrintStream&lt;/span&gt;(capturedStream);
    &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.setOut(pos);
  }

  &lt;span class=&quot;directive&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; after() {
    &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.setOut(original);
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Next thing is verification. Again, we will use jUnit goodies, this time a &lt;code&gt;Verifier&lt;/code&gt; class&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Verifier is a base class for Rules like ErrorCollector, which turns passing test methods into failing tests if a verification check is failed&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;CaptureVerifier&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;extends&lt;/span&gt; Verifier {

  &lt;span class=&quot;directive&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; verify() &lt;span class=&quot;directive&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Throwable&lt;/span&gt; {
    &lt;span class=&quot;predefined-type&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt;&amp;gt; actual = ReadLines.fromStream(capturedStream);
    &lt;span class=&quot;predefined-type&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt;&amp;gt; original = ReadLines.fromFile(pinchFile);

    &lt;span class=&quot;predefined-type&quot;&gt;Patch&lt;/span&gt;&amp;lt;&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt;&amp;gt; patch = DiffUtils.diff(original, actual);

    assertThat(patch, is(empty()));
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;And if something went wrong, we get a nice feedback.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;txt&quot;&gt;java.lang.AssertionError:
File:
  &amp;lt;/tmp/com.example.BusinessClassTest.txt&amp;gt;
read with charset &amp;lt;UTF-8&amp;gt; does not have the expected content:
line: &amp;lt;3&amp;gt;, expected:&amp;lt;something&amp;gt; but was:&amp;lt;something else&amp;gt;
      at com.example.BusinessClassTest.should_create_master_output_file&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;instead-of-summary&quot;&gt;Instead of summary&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The code snippets above is not the actual implementation. These are samples, to give a clue what&amp;#8217;s happening in the code. If you find this useful or interesting in any way, take a look on the actual &lt;a href=&quot;https://github.com/kubamarchwicki/junit-characterization&quot;&gt;implementation on Github&lt;/a&gt; or use it directly in your project.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;pl.marchwicki&lt;span class=&quot;tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;junit-characterization&lt;span class=&quot;tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;tag&quot;&gt;&amp;lt;packaging&amp;gt;&lt;/span&gt;jar&lt;span class=&quot;tag&quot;&gt;&amp;lt;/packaging&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.3&lt;span class=&quot;tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;m keen on feedback (say on &lt;a href=&quot;https://twitter.com/kubem&quot;&gt;@kubem at twitter&lt;/a&gt;) if you find it useful. For me, in my context, it worked and allow me to fairly safety replace the webservice connector (client) in the application I really didn&amp;#8217;t want to touch. Maybe it will work for you as well.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Some other references to this technique (also known as the Golden Master):&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.thecodewhisperer.com/2014/09/28/surviving-legacy-code-with-golden-master-and-sampling/&quot; class=&quot;bare&quot;&gt;http://blog.thecodewhisperer.com/2014/09/28/surviving-legacy-code-with-golden-master-and-sampling/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.adrianbolboaca.ro/2014/05/golden-master/&quot; class=&quot;bare&quot;&gt;http://blog.adrianbolboaca.ro/2014/05/golden-master/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Fri, 30 Jan 2015 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2015/01/30/characterize-your-legacy-junit-rules/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2015/01/30/characterize-your-legacy-junit-rules/</guid>
        
        
        <category>posts</category>
        
      </item>
    
      <item>
        <title>Java EE persistence without JPA</title>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Regulary during JavaEE trainings I conduct a question is raised: is there persistence beyond JPA. Java Persistence API is a standard on every application server; it isn&amp;#8217;t bad - it&amp;#8217;s valid for certain use cases. Nonetheless, I regulary see a need to go beyond that. That&amp;#8217;s the reason I decided to build up &lt;a href=&quot;https://github.com/kubamarchwicki/jOOQ-javaee-example/&quot;&gt;this example&lt;/a&gt;. It shows basic configuration for jOOQ on a JavaEE 7 compliant application server (was tested with Wildfly 8.x). I will not focus on why jOOQ was chosen - it could have been any other persistence provider of you favour. This post will tackle few (three) elements of JavaEE spec which (in my opinion) were important;  handy when implementing a non JPA based &quot;database handling&quot; libraries&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;resource-producers&quot;&gt;Resource producers&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;An annotation &lt;code&gt;@javax.enterprise.inject.Produces&lt;/code&gt; is used to prepare the &lt;code&gt;DSLContext&lt;/code&gt; object (with a desired datasource and database dialect). The produced bean becomes injectable within an application as any other CDI bean (since CDI 1.0)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;  &lt;span class=&quot;annotation&quot;&gt;@Inject&lt;/span&gt;
  &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; DSLContext ctx;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This is a nice way to produce any application context related components (like loggers, debug data, additional configuration).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;transaction-handling&quot;&gt;Transaction handling&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;JavaOOQ does not provide an API for transaction handling, but it doesn&amp;#8217;t stop it from taking any DataSource (no matter how produced). Hence, if transaction can be provided externally (outside of jOOQ) a certain level of coupling between SQL statements can be provided.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In this example we are using &lt;code&gt;@Transactional&lt;/code&gt; annotation (since JTA 1.2).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The &lt;code&gt;javax.transaction.Transactional&lt;/code&gt; annotation provides the application the ability to declaratively control transaction boundaries on CDI managed beans, as well as classes defined as managed beans by the Java EE specification, at both the class and method level where method level annotations override those at the class level.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This support is provided via an implementation of CDI interceptors that conduct the necessary suspending, resuming, etc.&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;See the additional tests, which shows teh transaction is actually working. As the transaction part isn&amp;#8217;t that obvious (a border between the library and the container), I&amp;#8217;ve included this small tests with Arquillian Persistence Extension to showcase how the transaction is rolled back when a unique constraint is violated. Yes, I know the data constraints are pretty naive and simplistic - but it shows the case.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In case of older Application Servers (JavaEE 6), a more verbose approach is required, using a lower level &lt;code&gt;UserTransaction&lt;/code&gt; API&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@Resource&lt;/span&gt;
UserTransaction tx

&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; transactionalOperation() {}
  &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {
    tx.begin();

    &lt;span class=&quot;comment&quot;&gt;//some operations on DSLContext&lt;/span&gt;

    tx.commit();

  } &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (HeuristicRollbackException |
    RollbackException |
    NotSupportedException |
    HeuristicMixedException e) {
      tx.rollback();
      &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;exception&quot;&gt;RuntimeException&lt;/span&gt;(e);
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;application-server-datasource-configuration&quot;&gt;Application server datasource configuration&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;MySQL was used as a database for this example. Wildfly datasource configuration may look as follows:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;datasources&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;tag&quot;&gt;&amp;lt;datasource&lt;/span&gt;
    &lt;span class=&quot;attribute-name&quot;&gt;jndi-name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;java:jboss/datasources/JooqExampleDS&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;attribute-name&quot;&gt;pool-name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;JooqExampleDS&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;attribute-name&quot;&gt;enabled&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;attribute-name&quot;&gt;use-java-context&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;connection-url&amp;gt;&lt;/span&gt;
      jdbc:mysql://localhost/jooq
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/connection-url&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;driver&amp;gt;&lt;/span&gt;mysql&lt;span class=&quot;tag&quot;&gt;&amp;lt;/driver&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;security&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;tag&quot;&gt;&amp;lt;user-name&amp;gt;&lt;/span&gt;username&lt;span class=&quot;tag&quot;&gt;&amp;lt;/user-name&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;tag&quot;&gt;&amp;lt;password&amp;gt;&lt;/span&gt;password&lt;span class=&quot;tag&quot;&gt;&amp;lt;/password&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/security&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/datasource&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;tag&quot;&gt;&amp;lt;drivers&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;driver&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;module&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;com.mysql&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt; &lt;b class=&quot;conum&quot;&gt;(1)&lt;/b&gt;
      &lt;span class=&quot;tag&quot;&gt;&amp;lt;driver-class&amp;gt;&lt;/span&gt;com.mysql.jdbc.Driver&lt;span class=&quot;tag&quot;&gt;&amp;lt;/driver-class&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/driver&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/drivers&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/datasources&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;colist arabic&quot;&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The module needs to be defined externally - see &lt;a href=&quot;http://wildfly.org/news/2014/02/06/GlassFish-to-WildFly-migration/&quot;&gt;Wildfly blog for reference - Creating a Module section&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;go-and-see-the-code&quot;&gt;Go and see the code!&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So, here it goes: &lt;a href=&quot;https://github.com/kubamarchwicki/jOOQ-javaee-example/&quot; class=&quot;bare&quot;&gt;https://github.com/kubamarchwicki/jOOQ-javaee-example/&lt;/a&gt;; see if it works for you and enjoy.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Sun, 18 Jan 2015 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2015/01/18/javaee-persistance-without-jpa/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2015/01/18/javaee-persistance-without-jpa/</guid>
        
        
        <category>posts</category>
        
      </item>
    
      <item>
        <title>My essential Eclipse plugins</title>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Upgrading IDE (Eclipse in this case) is not something you do on daily basis. What is more, I use Eclipse more and more seldomly - mostly for trainings. That&amp;#8217;s why I tend to forget which plugins I actually use (until I&amp;#8217;m missing them and need to remind myself how were they called). As this happened to my just recently (again) I decided to write this post with a list of plugins I find useful (so that I&amp;#8217;ll be able to come back during next upgrade&amp;#8230;&amp;#8203; someday)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;baseline&quot;&gt;Baseline&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I recently started with Spring Tool Suite as my baseline. Not that I&amp;#8217;m a Spring fan-boy. I rather consider myself from both churches: Spring and JavaEE; using both stacks as a set of tools to use in an appropriate context.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I started with STS cause I find it nearly feature complete. It comes with Git, Maven plugins so that I don&amp;#8217;t have to wonder about basics.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;fiddling-with-the-font-size&quot;&gt;Fiddling with the font size&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;One of my most important usecases for Eclipse is during delivering a training (Eclipse is my primary IDE then). Hence, an ability to increase the font size is a must. I&amp;#8217;m quite found of using &lt;a href=&quot;https://code.google.com/p/tarlog-plugins/&quot;&gt;tarlog-plugins&lt;/a&gt; - a set of small, but useful, features to Eclipse that are develop for personal Tarlog&amp;#8217;s needs.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;While there are some other font size plugins like &lt;a href=&quot;https://code.google.com/p/eclipse-fonts/&quot;&gt;eclipse-fonts&lt;/a&gt;, tarlog-plugins just works with every file type (not just text-files)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;migrating-workspace-settings&quot;&gt;Migrating workspace settings&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Again, due to trainings, I quite often setup a new workspace. And migrating settings from one workspace to other is a real pain in the neck. &lt;a href=&quot;https://code.google.com/a/eclipselabs.org/p/workspacemechanic/&quot;&gt;Workspace Mechanic&lt;/a&gt; is something that makes this process really easy.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
The Workspace Mechanic automates maintenance of your Eclipse environment by tweaking preferences, adding extension locations, and so on.
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;And this really saves my day!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;constant-test-status-preview&quot;&gt;Constant test status preview&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Trainings again. Whenever I run a refactoring or TDD session this is a life saver. Being able to constantly view the status of tests - brilliant.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
Infinitest is a Continuous Testing plugin for Eclipse and IntelliJ. Each time a change is made on the source code, Infinitest runs all the tests that might fail because of these changes.
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;http://infinitest.github.io/&quot;&gt;Grab Infinitest&lt;/a&gt; while it&amp;#8217;s hot.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;jboss-tools&quot;&gt;JBoss Tools&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This is quite simple, I&amp;#8217;m not using it beyond managing JBoss application servers. Just to be able to showcase some code on different servers that &lt;a href=&quot;http://tomee.apache.org/&quot;&gt;TomEE&lt;/a&gt; (which I usually use - try to stay &quot;vendor agnostic&quot;).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Mon, 01 Dec 2014 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2014/12/01/my-essential-eclipse-plugins/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2014/12/01/my-essential-eclipse-plugins/</guid>
        
        
        <category>posts</category>
        
      </item>
    
      <item>
        <title>GET.NET Braindump</title>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I had this enormous honour to speak (as the only Java guy) at a .NET conference. I was mainly covering clean code and good coding practices - still I found it a twist. However, it&amp;#8217;s not &lt;a href=&quot;/speaking/2014/11/22/get.net-gdansk/&quot;&gt;my &quot;Revers engineering the clean code&quot; talk&lt;/a&gt; I&amp;#8217;d like to focus on; here are some notes from Udi Dahan&amp;#8217;s keynote &quot;So you think you know pub/sub?&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;so-you-think-you-know-pub-sub&quot;&gt;So you think you know pub/sub?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Is about logical not physical data distribution&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;each event should be processed one&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;scale physical environment independently of logical architecture&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Isn&amp;#8217;t it what micro services are talking about?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you&amp;#8217;ve been coding for an hour and you haven&amp;#8217;t touched a single domain problem - stop. You probably writing infrastructure&amp;#8230;&amp;#8203;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Stop every hour and review what you&amp;#8217;ve done - check if that&amp;#8217;s not infrastructure&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make the coupling visible. It&amp;#8217;s not about hiding the coupling you already have. Seek out autonomy but preserve the single source of truth.&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;single source of truth doesn&amp;#8217;t imply shared database&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;have a single source per context&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;design logical decoupling and later on decide on physical model - putting it onto a single database.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Events are facts. Not commands - things we would like to happen&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Two type of failures. Technical and business failures&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;technical failure: developers causing business failures&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;don&amp;#8217;t deal with business failures as technical problems&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sensors, stock market - client based filtering. Notify me of some data.&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;distributed cache&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;user machines poll the cache of the content.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When user come along, it filters the local cache.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pub/Sub content based filtering - will be inefficient.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Sun, 23 Nov 2014 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2014/11/23/get.net-braindump/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2014/11/23/get.net-braindump/</guid>
        
        
        <category>posts</category>
        
      </item>
    
      <item>
        <title>33degree 2014 Braindump</title>
        <description>&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;think-for-yourself-marry-poppendieck&quot;&gt;Think for yourself; Marry Poppendieck&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;What great software engineers do: Sharpen the saw (develop expertise), share responsibility (deliver a real value), see the shadow of the future (make the world a better place)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Positive psychology. Started by Mihaly Csikszentmihalyi - when he started to write what&amp;#8217;s good with you people as opposed to most psychologist who wrote what&amp;#8217;s bad with you.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Elements needed to become an expert: Coach, challenge, feedback, steady progress towards getting things done&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Brilliant Systems. Mental model match: those developing the system and those actually using the system.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;App idea: the education datapalooza - as the Health Data Initiative Forum. The Health Datapalooza.
Gather, collect and open the data for everybody&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;healthcare.gov - everybody did their job, according to the spec. But all together - it didn&amp;#8217;t work.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;moving delivery organization to engineering organization:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;delivery organization are becoming obsolete. Analyze how the time is spent in the organization (a practical approach to large scale agile development. Gary Gruver, Mike Yound and Pat Fulghum)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;accept you are wasting money on planning&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;lack of control is not a problem. Instant feedback is a better way to control the process&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/assets/33degree-braindump/mpoppendieck5.jpg&quot; alt=&quot;mpoppendieck5&quot; width=&quot;600px&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/assets/33degree-braindump/mpoppendieck6.jpg&quot; alt=&quot;mpoppendieck6&quot; width=&quot;600px&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/assets/33degree-braindump/mpoppendieck1.jpg&quot; alt=&quot;mpoppendieck1&quot; width=&quot;600px&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/assets/33degree-braindump/mpoppendieck2.jpg&quot; alt=&quot;mpoppendieck2&quot; width=&quot;600px&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/assets/33degree-braindump/mpoppendieck3.jpg&quot; alt=&quot;mpoppendieck3&quot; width=&quot;600px&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/assets/33degree-braindump/mpoppendieck4.jpg&quot; alt=&quot;mpoppendieck4&quot; width=&quot;600px&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;managers-are-from-mars-ted-newards&quot;&gt;Managers are from Mars; Ted Newards&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Read more about Frederick Winslow Taylor. Taylor coined: you can&amp;#8217;t manage if you cannot measure.&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;It&amp;#8217;s said that this statement is flawed and was made up&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Alan Cooper. &quot;The Inmates are Running the Asylum&quot;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;nie-koduj-pisz-prozę-sławek-sobotka&quot;&gt;Nie koduj, pisz prozę; Sławek Sobotka&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The best quotes from Slawek Sobotka:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;wszyscy wypróżniaja sie do tego samego Gita&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;encja na twarz i pchasz&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Metody szacowania&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Metoda szacowania L.W.P.z.D. &quot;Liczby Wyciągnięte Prosto z Dupy&quot;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Metoda Parkinsona&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;techniki lingwistyczne przy opisie historyjki: okazuje sie ze Wasze panie od polskiego prawie programowaly&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;w obiektowych programowaniu lubimy od tylu: reguły &amp;#8594; znaczenie (kontekst) &amp;#8594; słowa&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;sesja modelowania ze smutnymi ludźmi! nie używaj bleh albo blah to używaj greckich liter. Faktura razy dwa&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;na samym końcu dobieraj słowa - jak zrozumiesz kontekst i znaczenie na podstawie reguł&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;co sie dzieje na sesji CRC zostaje na sesji CRC&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;to była młodość. Chormony budują. Pierwszy wąs i Dune2&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dobry obiekt jest&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;apatyczny. Nie chce mu sie robić&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;introwertyczny. Obiekty nie wchodzą z butami w inne obiekty&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;samolubny. Robi tylko swoje&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;switche pisze senior, junior pisze ify&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hiper wymiarowa macierz statusów&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;podstawowa zasada w aplikacjach biznesowych to zmapowac (map), zredukować (reduce) i zwinąć w lewo (foldleft)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Integracja: jeden demon sie wypróżnia a drugi sprawdza czy juz&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Twoj model biznesu jest suma błędów poprzednich pokoleń.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Klucz obcy to biznes znalazł u zony w torebce. Trafiłes w czuły punkt, nie dziw się że nie chcą z Tobą gadać.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/assets/33degree-braindump/ssobotka.jpg&quot; alt=&quot;ssobotka&quot; width=&quot;600px&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;the-missing-link-of-agile-paweł-badenski&quot;&gt;The missing link of agile; Paweł Badenski&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;minimize threat (you a run away from) and maximize reward (walk towards)&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;every social interaction on the project relates to the above&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;also feedback&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Feedback. Is an observation not judgement&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;improve people&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Antipatterns&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;feedback avoidance&lt;br&gt;
Little threat in small batches (30minutes a day) is less worse than one big threat.  Avoid the lizard brain, approach feedback mindfully&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;giving advice&lt;br&gt;
Objective feedback. From non violent communication. Refer to objectives: things you see and feel. Noone can argue with that, it&amp;#8217;s very yours&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;lizard response: fight, flight or freeze&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TED talks on neuroscience &lt;a href=&quot;http://blog.ketyov.com/2011/01/top-10-neuroscience-ted-talks.html&quot; class=&quot;bare&quot;&gt;http://blog.ketyov.com/2011/01/top-10-neuroscience-ted-talks.html&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Emotional intelligence is the basic tool for software developer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;corrective feedback&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;watch out bully language. Judgement&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;feedback is always subjective&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;label the feelings - it&amp;#8217;s easier to handle the emotions when you know what it is&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;go-reactive-roland-kuhn&quot;&gt;Go Reactive; Roland Kuhn&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;starting point: the user&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;user is not necessarily a human.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;responsiveness: always available, interactive, (near) real time&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;not http timeout! much faster, appropriate for service&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;resilience. Responsive in the face of failure&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;one failure should not take down all other containers (comportment construction as if Titanic)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;same happens for application servers: each application server is a compartment, which cascades the other nodes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asynchronous calls cause synchronous calls implies coupling&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;make somebody&amp;#8217;s else exception somebody else problem. Failer response goes to the owner, all other response returns to the user&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CAP theorem. Consistence. Availability. Partion tolerance. Theorem is proven impossible to have all three.&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;does it really needed? Who needs it?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;take ATMs. You cannot got all three at the same time, otherwise you won&amp;#8217;t be able to take money in certain situations (offline)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;saiku-taking-olap-databases-into-21st-century-tomek-nurkiewicz&quot;&gt;Saiku – taking OLAP databases into 21st century; Tomek Nurkiewicz&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;great talk from Tomek, heard him for the first time - my bad&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;project for BigData. OpenSource OLAP cubes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;exploring-nashorm-vankat-subramaniam&quot;&gt;Exploring Nashorm; Vankat Subramaniam&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&quot;JavaScript treats you like a guest in its house. It never complains and quietly laughs at you behind your back&quot;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;this idea: coffescript DSL run in the Server side as script with Nashorn&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;how-to-define-success-at-your-level-kai-gilb&quot;&gt;How to define Success at your level; Kai Gilb&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;focus on values. Connect stakeholder with values and derive requirements from that&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;keep iterations small. Week at most&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://www.gilb.com//dl820&quot;&gt;Slides&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Mon, 09 Jun 2014 00:00:00 +0000</pubDate>
        <link>http://jakub.marchwicki.pl/posts/2014/06/09/33degree-braindump/</link>
        <guid isPermaLink="true">http://jakub.marchwicki.pl/posts/2014/06/09/33degree-braindump/</guid>
        
        
        <category>posts</category>
        
      </item>
    
  </channel>
</rss>
